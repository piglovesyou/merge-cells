(()=>{"use strict";var t={607:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,l){function i(t){try{c(r.next(t))}catch(t){l(t)}}function a(t){try{c(r.throw(t))}catch(t){l(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;var l=n(563);function i(){var t;return r(this,void 0,void 0,(function(){var e,n,r,i,a,c,s;return o(this,(function(o){for(e=document.getElementById("table"),(n=e.tBodies[0]).remove(),r=Array.from(n.rows).map((function(t){return{country:t.cells[0].textContent,city:t.cells[1].textContent,occupation:t.cells[2].textContent,ageRange:t.cells[3].textContent,population:Number(t.cells[4].textContent)}})),i=(0,l.calcRowspan)(r,["country","city","occupation","ageRange"]),a=0;a<r.length;a++)c=n.rows.item(a),s=i[a],console.log(c.cells),0===s.country?c.cells[0].style.display="none":c.cells[0].setAttribute("rowspan",s.country.toString()),0===s.city?c.cells[1].style.display="none":c.cells[1].setAttribute("rowspan",s.city.toString()),0===s.occupation?c.cells[2].style.display="none":c.cells[2].setAttribute("rowspan",s.occupation.toString()),0===s.ageRange?c.cells[3].style.display="none":c.cells[3].setAttribute("rowspan",s.ageRange.toString()),0===s.population?c.cells[4].style.display="none":c.cells[4].setAttribute("rowspan",null===(t=s.population)||void 0===t?void 0:t.toString());return e.appendChild(n),[2]}))}))}i().catch((function(t){return console.error(t)})),e.main=i},563:function(t,e){var n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,l=e.length;o<l;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.calcRowspan=void 0;var r=function(t,e){return t[e]};e.calcRowspan=function t(e,o,l,i,a){if(void 0===l&&(l=r),void 0===i&&(i=[]),void 0===a&&(a=[]),0==e.length)return a;var c=e[0],s=e.slice(1),u=o.reduce((function(t,e){return t[e]=1,t}),{}),p={row:c,rowspan:u};a.push(u);for(var f=[],y=0;y<o.length;y++){var h=o[y],v=i[y];if(!v||l(c,h,y)!==l(v.row,h,y))return t(s,o,l,n(n([],f,!0),Array(o.length-f.length).fill(p),!0),a);v.rowspan[h]++,p.rowspan[h]=0,f.push(v)}return t(s,o,l,f,a)}}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var l=e[r]={exports:{}};return t[r].call(l.exports,l,l.exports,n),l.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUV2QixJQURrQkUsR0FBV1YsRUFBY0csRUFBS00sRUFBT0QsS0FBZ0JSLEVBQWNVLEVBQVFiLElBQUtZLEVBQU9ELEdBRXJHLE9BQU9qQyxFQUFZNkIsRUFBTUwsRUFBUUMsRUFBZWIsRUFBY0EsRUFBYyxHQUFJb0IsR0FBYyxHQUFPM0MsTUFBTW1DLEVBQU92RCxPQUFTK0QsRUFBYS9ELFFBQVFtRSxLQUFLTCxJQUFTLEdBQU9KLEdBRXpLUSxFQUFRcEQsUUFBUW1ELEtBQ2hCSCxFQUFPaEQsUUFBUW1ELEdBQVMsRUFDeEJGLEVBQWE5RCxLQUFLaUUsRUFDdEIsQ0FDQSxPQUFPbkMsRUFBWTZCLEVBQU1MLEVBQVFDLEVBQWVPLEVBQWNMLEVBQ2xFLEMsR0N6Q0lVLEVBQTJCLENBQUMsR0FHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYW5FLFFBR3JCLElBQUlxRSxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRGxFLFFBQVMsQ0FBQyxHQU9YLE9BSEFzRSxFQUFvQkosR0FBVXhFLEtBQUsyRSxFQUFPckUsUUFBU3FFLEVBQVFBLEVBQU9yRSxRQUFTaUUsR0FHcEVJLEVBQU9yRSxPQUNmLENDbkIwQmlFLENBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJnZS1jZWxscy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9tZXJnZS1jZWxscy8uL3NyYy9saWIudHMiLCJ3ZWJwYWNrOi8vbWVyZ2UtY2VsbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVyZ2UtY2VsbHMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYWluID0gdm9pZCAwO1xudmFyIGxpYl8xID0gcmVxdWlyZShcIi4vbGliXCIpO1xubWFpbigpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTsgfSk7XG5mdW5jdGlvbiBtYWluKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YWJsZUVsLCB0Qm9keSwgcm93cywgcm93c3BhbnMsIGksIHJvd0VsLCByb3dzcGFuO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICB0YWJsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlJyk7XG4gICAgICAgICAgICB0Qm9keSA9IHRhYmxlRWwudEJvZGllc1swXTtcbiAgICAgICAgICAgIHRCb2R5LnJlbW92ZSgpO1xuICAgICAgICAgICAgcm93cyA9IEFycmF5LmZyb20odEJvZHkucm93cykubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgICAgIGNvdW50cnk6IGUuY2VsbHNbMF0udGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgY2l0eTogZS5jZWxsc1sxXS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICBvY2N1cGF0aW9uOiBlLmNlbGxzWzJdLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgIGFnZVJhbmdlOiBlLmNlbGxzWzNdLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgIHBvcHVsYXRpb246IE51bWJlcihlLmNlbGxzWzRdLnRleHRDb250ZW50KSxcbiAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgIHJvd3NwYW5zID0gKDAsIGxpYl8xLmNhbGNSb3dzcGFuKShyb3dzLCBbJ2NvdW50cnknLCAnY2l0eScsICdvY2N1cGF0aW9uJywgJ2FnZVJhbmdlJ10pO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByb3dFbCA9IHRCb2R5LnJvd3MuaXRlbShpKTtcbiAgICAgICAgICAgICAgICByb3dzcGFuID0gcm93c3BhbnNbaV07XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocm93RWwuY2VsbHMpO1xuICAgICAgICAgICAgICAgIGlmIChyb3dzcGFuLmNvdW50cnkgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJvd0VsLmNlbGxzWzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByb3dFbC5jZWxsc1swXS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCByb3dzcGFuLmNvdW50cnkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHJvd3NwYW4uY2l0eSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcm93RWwuY2VsbHNbMV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJvd0VsLmNlbGxzWzFdLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIHJvd3NwYW4uY2l0eS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAocm93c3Bhbi5vY2N1cGF0aW9uID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByb3dFbC5jZWxsc1syXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcm93RWwuY2VsbHNbMl0uc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgcm93c3Bhbi5vY2N1cGF0aW9uLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmIChyb3dzcGFuLmFnZVJhbmdlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByb3dFbC5jZWxsc1szXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcm93RWwuY2VsbHNbM10uc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgcm93c3Bhbi5hZ2VSYW5nZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAocm93c3Bhbi5wb3B1bGF0aW9uID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByb3dFbC5jZWxsc1s0XS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcm93RWwuY2VsbHNbNF0uc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgKF9hID0gcm93c3Bhbi5wb3B1bGF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJsZUVsLmFwcGVuZENoaWxkKHRCb2R5KTtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLm1haW4gPSBtYWluO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNhbGNSb3dzcGFuID0gdm9pZCAwO1xudmFyIGRlZmF1bHRWYWx1ZVByb3ZpZGVyID0gZnVuY3Rpb24gKHJvdywgY29sdW1uTmFtZSkgeyByZXR1cm4gcm93W2NvbHVtbk5hbWVdOyB9O1xuZnVuY3Rpb24gY2FsY1Jvd3NwYW4ocm93cywgZmllbGRzLCB2YWx1ZVByb3ZpZGVyLCBiYXNlUm93cywgYWNjKSB7XG4gICAgaWYgKHZhbHVlUHJvdmlkZXIgPT09IHZvaWQgMCkgeyB2YWx1ZVByb3ZpZGVyID0gZGVmYXVsdFZhbHVlUHJvdmlkZXI7IH1cbiAgICBpZiAoYmFzZVJvd3MgPT09IHZvaWQgMCkgeyBiYXNlUm93cyA9IFtdOyB9XG4gICAgaWYgKGFjYyA9PT0gdm9pZCAwKSB7IGFjYyA9IFtdOyB9XG4gICAgaWYgKHJvd3MubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgdmFyIHRvcCA9IHJvd3NbMF0sIHJlc3QgPSByb3dzLnNsaWNlKDEpO1xuICAgIHZhciByb3dzcGFuID0gZmllbGRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjb2x1bW5OYW1lKSB7XG4gICAgICAgIGFjY1tjb2x1bW5OYW1lXSA9IDE7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHZhciB0b3BBY2MgPSB7XG4gICAgICAgIHJvdzogdG9wLFxuICAgICAgICByb3dzcGFuOiByb3dzcGFuLFxuICAgIH07XG4gICAgYWNjLnB1c2gocm93c3Bhbik7XG4gICAgdmFyIG5leHRCYXNlUm93cyA9IFtdO1xuICAgIGZvciAodmFyIGZpZWxkSW5kZXggPSAwOyBmaWVsZEluZGV4IDwgZmllbGRzLmxlbmd0aDsgZmllbGRJbmRleCsrKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tmaWVsZEluZGV4XTtcbiAgICAgICAgdmFyIGJhc2VSb3cgPSBiYXNlUm93c1tmaWVsZEluZGV4XTtcbiAgICAgICAgdmFyIGlzTmV3VmFsdWUgPSAhYmFzZVJvdyB8fCB2YWx1ZVByb3ZpZGVyKHRvcCwgZmllbGQsIGZpZWxkSW5kZXgpICE9PSB2YWx1ZVByb3ZpZGVyKGJhc2VSb3cucm93LCBmaWVsZCwgZmllbGRJbmRleCk7XG4gICAgICAgIGlmIChpc05ld1ZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY1Jvd3NwYW4ocmVzdCwgZmllbGRzLCB2YWx1ZVByb3ZpZGVyLCBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIG5leHRCYXNlUm93cywgdHJ1ZSksIEFycmF5KGZpZWxkcy5sZW5ndGggLSBuZXh0QmFzZVJvd3MubGVuZ3RoKS5maWxsKHRvcEFjYyksIHRydWUpLCBhY2MpO1xuICAgICAgICB9XG4gICAgICAgIGJhc2VSb3cucm93c3BhbltmaWVsZF0rKztcbiAgICAgICAgdG9wQWNjLnJvd3NwYW5bZmllbGRdID0gMDtcbiAgICAgICAgbmV4dEJhc2VSb3dzLnB1c2goYmFzZVJvdyk7XG4gICAgfVxuICAgIHJldHVybiBjYWxjUm93c3BhbihyZXN0LCBmaWVsZHMsIHZhbHVlUHJvdmlkZXIsIG5leHRCYXNlUm93cywgYWNjKTtcbn1cbmV4cG9ydHMuY2FsY1Jvd3NwYW4gPSBjYWxjUm93c3BhbjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJjYWxsIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIm1haW4iLCJsaWJfMSIsIl9hIiwidGFibGVFbCIsInRCb2R5Iiwicm93cyIsInJvd3NwYW5zIiwiaSIsInJvd0VsIiwicm93c3BhbiIsIl9iIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRCb2RpZXMiLCJyZW1vdmUiLCJBcnJheSIsImZyb20iLCJtYXAiLCJjb3VudHJ5IiwiY2VsbHMiLCJ0ZXh0Q29udGVudCIsImNpdHkiLCJvY2N1cGF0aW9uIiwiYWdlUmFuZ2UiLCJwb3B1bGF0aW9uIiwiTnVtYmVyIiwiY2FsY1Jvd3NwYW4iLCJpdGVtIiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiZGlzcGxheSIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwiYXBwZW5kQ2hpbGQiLCJjYXRjaCIsImVyciIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwicGFjayIsImFyZ3VtZW50cyIsImFyIiwibCIsInByb3RvdHlwZSIsInNsaWNlIiwiY29uY2F0IiwiZGVmYXVsdFZhbHVlUHJvdmlkZXIiLCJyb3ciLCJjb2x1bW5OYW1lIiwiZmllbGRzIiwidmFsdWVQcm92aWRlciIsImJhc2VSb3dzIiwiYWNjIiwidG9wIiwicmVzdCIsInJlZHVjZSIsInRvcEFjYyIsIm5leHRCYXNlUm93cyIsImZpZWxkSW5kZXgiLCJmaWVsZCIsImJhc2VSb3ciLCJmaWxsIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=